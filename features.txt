This is purely brainstorming, but here we go...

Notes
-----
- All fields are encoded as big endian
- The "controller" will manage sessions and data encoding
- The "driver" will take the stream of bytes and send a DNS packet
- The "adapter" will interface witht he outside world
- Only the client will be in C, the server is more complex and will be
  written in ruby
- Multiple sessions will require multiple instances of 'controller'

Protocol
--------
The data will look like (remember, space is extremely
important):
- (uint16_t) length (including the length field)
- (uint16_t) flags
- (uint16_t) session_id
- (uint16_t) seq number [optional]
- (uint16_t) ack number [optional]
- [optional fields based on flags]
- (byte[]) data

All data will be encoded as a stream of bytes, up to a certain
agreed-upon length value. 

Other stuff
-----------
- I'd eventually like signing/encryption
- Compression
- SOCKS/HTTP proxy

