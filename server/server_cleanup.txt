Some goals (these will be deleted as I complete them):
- Nested sessions
- Make sure a good error is still displayed when the user doesn't run it as root
- Make @window.puts_ex use named parameters everywhere
- Take care of all TODOs that are possible
- Audit all uses of "puts()" throughout the program to ensure none of them are supposed to be window.puts()
- Make sure all the settings and commands from pre-refactor are present
- Comment APIs really well, especially stuff in the /libs folder
- Limit history so we don't quickly run out of memory when logging packets and stuff
- Explore whether or not I can replace @window with stream in certain places, so less stuff has to understand what a window is
- Add $settings back
- Bring back the "session last heard from [X] minutes ago" message
- Add documentation to settings when they're created
- Change the commandline arguments to match the client's
- Figure out what's wrong with history and fix it

Add settings that can:
- Log to a file (per-session or global)

Before release, make sure:
- Test passthrough
- Make sure everything works over normal DNS

Out of scope things that I'd like to do eventually (so I'll file them as github issues):
- Add a command to command sessions to spawn a console, if that's possible
